<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Cursinho</title>
    </h:head>
    <body>
        <p:dataTable value="#{professorMB.profs}" emptyMessage="Nenhum professor cadastrado"
                     paginatorTemplate="{CurrentPageReport}   {FirstPageLink} {PreviousPageLink}
                     {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                     paginator="true" rows="5" rowsPerPageTemplate="5,10,15,20,25"
                     var="professor" id="tabProfessoress">
            <f:facet name="header">  
                <h:outputText value="Professores" /> 
            </f:facet>

            <p:column>
                <f:facet name="header">  
                    <h:outputText value="ID"/> 
                </f:facet>
                <h:form>
                    <p:commandLink ajax="false" value="#{professor.id}"
                                   action="#{professorMB.carregar(professor)}"/>
                </h:form>
            </p:column>

            <p:column>
                <f:facet name="header">  
                    <h:outputText value="Nome"/> 
                </f:facet>
                <h:form>
                    <p:commandLink ajax="false" value="#{professor.nome}"
                                   action="#{professorMB.carregar(professor)}"/>
                </h:form>
            </p:column>


            <p:column>
                <f:facet name="header">  
                    <h:outputText value="Telefone"/> 
                </f:facet>
                <h:form>
                    <p:commandLink ajax="false" value="#{professor.telefone}"
                                   action="#{professorMB.carregar(professor)}"/>
                </h:form>
            </p:column>

            <p:column>
                <f:facet name="header">  
                    <h:outputText value="Data de Nascimento"/> 
                </f:facet>
                <h:form>
                    <p:commandLink ajax="false" value="#{professor.dataNascimento}"
                                   action="#{professorMB.carregar(professor)}"/>
                </h:form>
            </p:column>

            <p:column>
                <f:facet name="header">  
                    <h:outputText value="E-mail"/> 
                </f:facet>
                <h:form>
                    <p:commandLink ajax="false" value="#{professor.email}"
                                   action="#{professorMB.carregar(professor)}"/>
                </h:form>
            </p:column>
            <p:column>
                <f:facet name="header">  
                    <h:outputText value="Endereço"/> 
                </f:facet>
                <h:form>
                    <p:commandLink ajax="false" value="#{professor.endereco}"
                                   action="#{professorMB.carregar(professor)}"/>
                </h:form>
            </p:column>

            <p:column>
                <f:facet name="header">  
                    <h:outputText value="Função"/> 
                </f:facet>
                <h:form>
                    <p:commandLink ajax="false" value="#{professor.funcao}"
                                   action="#{professorMB.carregar(professor)}"/>
                </h:form>
            </p:column>


            <p:column>
                <f:facet name="header">  
                    <h:outputText value="Salario"/> 
                </f:facet>
                <h:form>
                    <p:commandLink ajax="false" value="#{professor.salario}"
                                   action="#{professorMB.carregar(professor)}"/>
                </h:form>
            </p:column>

            <p:column>
                <f:facet name="header">  
                    <h:outputText value="Habilidade"/> 
                </f:facet>
                <h:form>
                    <p:commandLink ajax="false" value="#{professor.habilidade}"
                                   action="#{professorMB.carregar(professor)}"/>
                </h:form>
            </p:column>

            <p:column>
                <f:facet name="header">  
                    <h:outputText value="Formação"/> 
                </f:facet>
                <h:form>
                    <p:commandLink ajax="false" value="#{professor.formacao}"
                                   action="#{professorMB.carregar(professor)}"/>
                </h:form>
            </p:column>

            <p:column>
                <f:facet name="header">  
                    <h:outputText value="Excluir"/> 
                </f:facet>
                <h:form>
                    <p:commandButton ajax="false" image="ui-icon-trash" 
                                     action="#{professorMB.excluir(professor.id)}"/>
                </h:form>
            </p:column>
        </p:dataTable>
        <hr></hr>

        <!--Formulario de crud-->

        <p:panel header="Manutenção de Professores">
            <h:form id="formulario">
                <h:inputHidden value="#{professorMB.prof.id}"/>
                <h:panelGrid columns="3">
                    <h:outputText value="Nome:"/>
                    <p:inputText id="campoNome" value="#{professorMB.prof.nome}" 
                                 required="true" requiredMessage="Campo obrigatório"/>
                    <p:message for="campoNome"/>

                    <h:outputText value="Telefone:"/>
                    <p:inputMask id="campoTelefone" mask="(99) 9999-9999"
                                 value="#{professorMB.prof.telefone}"
                                 required="true" requiredMessage="Campo obrigatório"
                                 validatorMessage="Digite um telefone no formato (XX) XXXX-XXXX"/>
                    <p:message for="campoTelefone"/>

                    <h:outputText value="Data de nascimento:"/>
                    <p:calendar id="campoData" value="#{professorMB.prof.dataNascimento}"
                                required="true" requiredMessage="Campo obrigatório"
                                navigator="true" maxdate="today" yearRange="c-120:c"/>
                    <p:message for="campoData"/>



                    <h:outputText value="E-mail:"/>
                    <p:inputText id="campoEmail" value="#{professorMB.prof.email}"
                                 required="true" requiredMessage="Campo obrigatório"/>
                    <p:message for="campoEmail"/>

                    <h:outputText value="Endereço:"/>
                    <p:inputText id="campoEndereco" value="#{professorMB.prof.endereco}"
                                 required="true" requiredMessage="Campo obrigatório"/>
                    <p:message for="campoEndereco"/>


                    <h:outputText value="Função:"/>
                    <p:inputText id="campoFunção" value="#{professorMB.prof.funcao}"
                                 required="true" requiredMessage="Campo obrigatório"/>
                    <p:message for="campoFunção"/>

                    <h:outputText value="Salario:"/>
                    <p:inputText id="campoSalario" value="#{professorMB.prof.salario}"
                                 required="true" requiredMessage="Campo obrigatório"/>
                    <p:message for="campoSalario"/>
                    
                    <h:outputText value="Habilidade:"/>
                    <p:inputText id="campoHabilidade" value="#{professorMB.prof.habilidade}"
                                 required="true" requiredMessage="Campo obrigatório"/>
                    <p:message for="campoHabilidade"/>

                    <h:outputText value="Digite sua formação:"/>
                    <p:inputText id="campoFormacao" value="#{professorMB.prof.formacao}"
                                 required="true" requiredMessage="Campo obrigatório"/>
                    <p:message for="campoFormacao"/>





                </h:panelGrid>

                <p:commandButton value="Cadastrar" action="#{professorMB.cadastrar()}" image="ui-icon-disk" ajax="false"/>
                <p:commandButton value="Alterar" action="#{professorMB.alterar()}" image="ui-icon-pencil" ajax="false"/>
                <p:commandButton value="Cancelar" action="#{professorMB.cancelar()}" image="ui-icon-cancel" ajax="false"/><br/><br/>
            </h:form>

            <p:messages for="formulario"/>
        </p:panel>

        <!--Formularios de pesquisa-->

        <p:panel header="Pesquisar Professores Por Nome">
            <h:form id="formPesqProfessores">
                <h:panelGrid columns="3">
                    <h:outputLabel value="Nome do Professor:"/>
                    <p:inputText id="campoPesqNome" value="#{professorMB.pesquisa}"
                                 required="true" requiredMessage="Campo obrigatório"/>
                    <p:message for="formPesqProfessores"/>
                </h:panelGrid>
                <p:commandButton value="Pesquisar" ajax="false"
                                 action="#{professorMB.pesquisarPorNome()}" image="ui-icon-search"/>
            </h:form>
        </p:panel>
        <hr></hr>

        <p:panel header="Pesquisar Todos os Professores">
            <h:form id="formPesquisaTodos">
                <p:commandButton value="Pesquisar todos" ajax="false"
                                 action="#{professorMB.pesquisar()}" image="ui-icon-search"/>
            </h:form>
        </p:panel>
    </body>
</html>